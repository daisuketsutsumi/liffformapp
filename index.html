<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>店舗在庫登録ツール</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css">
    <style>
        .content {
            display: none;
            padding: 10px;
        }
    </style>
</head>
<body>
     <form class="w-75 mx-auto">
        <div style="display: flex; align-items: center; white-space: nowrap; margin-bottom: 20px;">
          <p class="mt-0 mb-0">確認担当者名：</p>
          <div>
            <select class="form-control w-75 mt-1" name="name" required style="height: 30px;">
                <option value="">選択</option>
                <option value="堤まゆみ">堤まゆみ</option>
                <option value="糸山久美子">糸山久美子</option>
                <option value="松尾京子">松尾京子</option> 
                <option value="西村柚香">西村柚香</option>
                <option value="鶴丸恵美子">鶴丸恵美子</option>
                <option value="田中さよこ">田中さよこ</option>
                <option value="吉田美鈴">吉田美鈴</option>
                <option value="堤理沙子">堤理沙子</option>
                <option value="その他">その他</option>
            </select>
          </div>
         </div>
        <button class="accordion" type="button">ドリンク</button>
         </div>
            <div class="content">
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">コーラ：</p>
                    <select class="form-control stock-select w-50 mt-1" name="coke" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">オレンジ：</p>
                    <select class="form-control stock-select w-50 mt-1" name="orange" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">コーヒー：</p>
                    <select class="form-control stock-select w-50 mt-1" name="coffee" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">炭酸水：</p>
                    <select class="form-control stock-select w-50 mt-1" name="sparkling" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
            </div>
        <button class="accordion" type="button">食材</button>
            <div class="content">
                 <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">コーラ：</p>
                    <select class="form-control stock-select w-50 mt-1" name="coke" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">オレンジ：</p>
                    <select class="form-control stock-select w-50 mt-1" name="orange" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">コーヒー：</p>
                    <select class="form-control stock-select w-50 mt-1" name="coffee" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                </div>
                <div style="display: flex; align-items: center; white-space: nowrap;">
                    <p class="mt-0 mb-0">炭酸水：</p>
                    <select class="form-control stock-select w-50 mt-1" name="sparkling" style="height: 30px;" id="numberSelect">
                        <option value="">在庫本数</option>
                    </select>
                 </div>
            </div> 
    </form>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    
    <script>

        $(document).ready(function () {
            const liffId = "1656694498-zJe76kyG";
            initializeLiff(liffId);
        })

        function initializeLiff(liffId) {
            liff.init({
                liffId: liffId
            }).then(() => {
                initializeApp();
            }).catch((err) => {
                console.log('LIFF Initialization failed ', err);
            });
        }

        function sendText(text) {
            liff.sendMessages([{
                'type': 'text',
                'text': text
            }]).then(function () {
                liff.closeWindow();
            }).catch(function (error) {
                window.alert('Failed to send message ' + error);
            });
        }

        const params = (new URL(document.location)).searchParams;
        const key = params.get('key');

        $(function () {
            $('form').submit(function () {
                const name    = $('select[name="name"]').val();
                const coke    = $('select[name="coke"]').val();
                const orange = $('select[name="orange"]').val();
                const coffee  = $('select[name="coffee"]').val();
                const sparkling  = $('select[name="sparkling"]').val();
                const msg = `${name}${coke}\n${orange}\n${coffee}\n${sparkling}`;
                sendText(msg);
                return false;
            });
        });

    </script>
    <script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>
    
    <script>
    // クラス名 "stock-select" を持つすべての要素を選択
        const selects = document.querySelectorAll('.stock-select');

    // 各要素に対して操作を行う
        selects.forEach((select) => {
    // ここでselect要素に対する操作を行う
        for(let i = 1; i <= 50; i++) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = i;
        select.appendChild(option);
                  }
            });
    </script>

</body>
</html>
